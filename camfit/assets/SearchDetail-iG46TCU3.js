import{_ as O,r as F,s as R,m as V,c as h,a as i,t as m,b as s,w as f,u as D,f as k,o as e,q as U,j as d,g as r,e as X,F as Y,d as G,x as H,p as J,k as Q}from"./index-8fRpFh2w.js";const W={name:"SearchDetail",setup(){const n=history.state.arr;console.log("라우트 컴포넌트",n);const x=D(),I=H(),o=x.params.id;let v,w,c,C,_,p,l;v=F({data:n.find(a=>a.contentId===o)}),l=F({index:1});const y=a=>{v.data=n.find(t=>t.contentId===a.params.id),w=n.findIndex(t=>t.contentId===v.data.contentId),_=n[w-1]?n[w-1]:null,p=n[w+1]?n[w+1]:null,c=_?_.contentId:null,C=p?p.contentId:null};y(x);const u=()=>{I.push({name:"search"})},B=()=>{C?(I.push({name:"search/id",params:{id:C},state:{arr:n}}),b(p),l.index==n.length?l.index=1:l.index++):(I.push({name:"search/id",params:{id:n[0].contentId},state:{arr:n}}),b(n[0]),l.index=1),document.querySelector(".page-content").scrollTo({top:0,behavior:"smooth"})},z=()=>{c?(I.push({name:"search/id",params:{id:c},state:{arr:n}}),b(_),l.index==1?l.index=n.length:l.index--):(I.push({name:"search/id",params:{id:n[n.length-1].contentId},state:{arr:n}}),b(n[n.length-1]),l.index=n.length),document.querySelector(".page-content").scrollTo({top:0,behavior:"smooth"})};R(a=>{y(a)});const K=()=>{const a=document.createElement("script");a.src="//dapi.kakao.com/v2/maps/sdk.js?appkey=68a864de58e6edc8060b1ea8bf5fcdf1&autoload=false",a.onload=()=>window.kakao.maps.load(b),document.head.appendChild(a)},b=a=>{if(a){const t=new window.kakao.maps.LatLng(a.mapY,a.mapX),N=document.getElementById("detail-map"),E={center:t,level:5};let S=new window.kakao.maps.Map(N,E);const T="/portfolio/camfit/src/assets/marker.svg",g=new window.kakao.maps.Size(35,50),P={offset:new window.kakao.maps.Point(18,53)},q=new window.kakao.maps.MarkerImage(T,g,P),A=t;new window.kakao.maps.Marker({position:A,image:q}).setMap(S);const L=`<div id="customoverlay">
            <a href=${a.homepage==""?a.resveUrl:a.homepage} target="_blank">
              <h5 class="title">${a.facltNm}</h5>
            </a>
          </div>`;new window.kakao.maps.CustomOverlay({map:S,position:t,content:L,yAnchor:1})}};return V(()=>{K(),setTimeout(()=>{b(v.data)},700)}),{dataInfo:v,dataArr:n,resultIndex:l,closeModal:u,goToPrev:z,goToNext:B,copyText:()=>{const a=document.querySelectorAll(".copy");for(let t of a)t.addEventListener("click",function(){window.navigator.clipboard.writeText(t.textContent)})},makeFacilityKey:a=>{let t=["animalCmgCl","brazierCl","sbrsCl","sbrsEtc","posblFcltyCl"],N=[];return t.forEach((S,T)=>{let g=a[S].split(",");T==0?g[0]="반려동물동반 "+g:T==1&&(g[0]="화로대 "+g),N.push(...g)}),[...new Set(N.filter(Boolean))]},mdiName:a=>{let t;return a=="전기"&&(t="mdi-lightning-bolt"),a=="장작판매"&&(t="mdi-pine-tree-fire"),(a=="온수"||a=="샤워실")&&(t="mdi-shower-head"),a=="무선인터넷"&&(t="mdi-wifi"),a=="낚시"&&(t="mdi-fish"),a=="산책로"&&(t="mdi-walk"),a=="해수욕"&&(t="mdi-beach"),a=="수상레저"&&(t="mdi-kayaking"),a=="음식점"&&(t="mdi-food-fork-drink"),a=="운동시설"&&(t="mdi-dumbbell"),(a=="화로대 개별"||a=="화로대 공동취사장"||a=="화로대")&&(t="mdi-campfire"),a=="화로대 불가"&&(t="mdi-fire-off"),(a=="카페"||a=="커피숍")&&(t="mdi-coffee"),(a=="반려동물동반 가능"||a=="반려동물동반 가능(소형견)")&&(t="mdi-paw"),a=="오락실"&&(t="mdi-controller"),a=="테니스장"&&(t="mdi-tennis-ball"),a=="족구장"&&(t="mdi-volleyball"),a=="탁구장"&&(t="mdi-table-tennis"),a=="세탁기"&&(t="mdi-washing-machine"),a=="배드민턴장"&&(t="mdi-badminton"),a=="트렘폴린"&&(t="mdi-one-up"),a=="어린이놀이시설"&&(t="mdi-balloon"),a=="운동장"&&(t="mdi-soccer-field"),a=="놀이터"&&(t="mdi-slide"),(a=="물놀이장"||a=="강/물놀이")&&(t="mdi-waves"),a=="수영장"&&(t="mdi-pool"),(a=="계곡 물놀이"||a=="계곡")&&(t="mdi-fruit-watermelon"),a=="반려동물동반 불가능"&&(t="mdi-dog-side-off"),(a=="마트.편의점"||a=="매점")&&(t="mdi-storefront"),(a=="북카페"||a=="어린이책방"||a=="어린이도서관")&&(t="mdi-book-open-variant-outline"),t||(t="mdi-tent"),t}}}},M=n=>(J("data-v-8e6c28b1"),n=n(),Q(),n),Z={class:"modal"},j={class:"box"},$={class:"page-header mb-6"},aa={class:"title-wrap mb-3"},ta={class:"title mt-2"},oa={class:"category"},na={class:"contact-wrap"},ea={class:"contact-addr copy"},ca={class:"contact-tel copy"},ia=M(()=>i("span",{class:"copy-msg"},"캠핑장 정보 복사 완료",-1)),sa={class:"page-content"},da=M(()=>i("div",{id:"detail-map","max-height":"400",class:"camping-img"},null,-1)),la={key:0,class:"subtitle mb-6"},ra={key:1,class:"subtitle mb-6"},ma={key:2,class:"desc mb-6"},fa=M(()=>i("span",{class:"mb-1"},"캠핑장 소개",-1)),pa=M(()=>i("br",null,null,-1)),ha={key:0,class:"desc-nature-icon mt-md-5 mt-n8 mb-5"},_a={class:"mt-n1"},ua={class:"facility-item"},ga=["href"],Ia=["href"],va={class:"page-footer"},wa={class:"page-icon"},ba={class:"result-count-info"};function ka(n,x,I,o,v,w){const c=k("v-icon"),C=k("v-snackbar"),_=k("v-img"),p=k("v-col"),l=k("v-row"),y=k("v-btn");return e(),h("div",Z,[i("div",j,[i("div",$,[i("div",aa,[i("h3",ta,m(o.dataInfo.data.facltNm),1),i("span",oa,m(o.dataInfo.data.induty),1)]),i("div",na,[s(C,{timeout:1500,rounded:"pill"},{activator:f(({props:u})=>[o.dataInfo.data.addr1!=""?(e(),h("span",U({key:0,class:"contact",onClick:x[0]||(x[0]=(...B)=>o.copyText&&o.copyText(...B))},u),[s(c,{icon:"mdi-map-marker",class:"contact-icon"}),i("span",ea,m(o.dataInfo.data.addr1),1),s(c,{icon:"mdi-content-copy",class:"copy-icon"})],16)):d("",!0),o.dataInfo.data.tel!=""?(e(),h("span",U({key:1,class:"contact"},u),[s(c,{icon:"mdi-phone",class:"contact-icon"}),i("span",ca,m(o.dataInfo.data.tel),1),s(c,{icon:"mdi-content-copy",class:"copy-icon"})],16)):d("",!0)]),default:f(()=>[ia]),_:1})])]),i("div",sa,[s(l,{class:"img-wrap"},{default:f(()=>[s(p,{cols:"12",md:"7"},{default:f(()=>[o.dataInfo.data.firstImageUrl?(e(),r(_,{key:1,class:"camping-img","max-height":"400",src:o.dataInfo.data.firstImageUrl,alt:"캠핑장 이미지",cover:""},null,8,["src"])):(e(),r(_,{key:0,class:"camping-img","max-height":"400",src:"https://github.com/suunzuu/portfolio/blob/main/img/no-img.jpg?raw=true",alt:"캠핑장 이미지 준비중",cover:""}))]),_:1}),s(p,{cols:"12",md:"5"},{default:f(()=>[da]),_:1})]),_:1}),s(l,{class:"desc-wrap pt-1 mb-6"},{default:f(()=>[s(p,{cols:"12",md:"11"},{default:f(()=>[o.dataInfo.data.lineIntro?(e(),h("p",la,m(o.dataInfo.data.lineIntro),1)):o.dataInfo.data.intro?(e(),h("p",ra,m(o.dataInfo.data.intro),1)):d("",!0),o.dataInfo.data.featureNm?(e(),h("p",ma,[fa,pa,X(" "+m(o.dataInfo.data.featureNm),1)])):d("",!0)]),_:1}),s(p,{cols:"0",md:"1"},{default:f(()=>[o.dataInfo.data.lctCl?(e(),h("div",ha,[o.dataInfo.data.lctCl=="도심"?(e(),r(c,{key:0,center:"",icon:"mdi-city",class:"contact-icon"})):d("",!0),o.dataInfo.data.lctCl=="섬"?(e(),r(c,{key:1,center:"",icon:"mdi-island",class:"contact-icon"})):d("",!0),o.dataInfo.data.lctCl=="산"?(e(),r(c,{key:2,center:"",icon:"mdi-image-filter-hdr",class:"contact-icon"})):d("",!0),o.dataInfo.data.lctCl=="숲"?(e(),r(c,{key:3,center:"",icon:"mdi-forest-outline",class:"contact-icon"})):d("",!0),o.dataInfo.data.lctCl=="계곡"?(e(),r(c,{key:4,center:"",icon:"mdi-fruit-watermelon",class:"contact-icon"})):d("",!0),o.dataInfo.data.lctCl=="강"?(e(),r(c,{key:5,center:"",icon:"mdi-fish",class:"contact-icon"})):d("",!0),o.dataInfo.data.lctCl=="해변"?(e(),r(c,{key:6,center:"",icon:"mdi-umbrella-beach",class:"contact-icon"})):d("",!0),o.dataInfo.data.lctCl=="호수"?(e(),r(c,{key:7,center:"",icon:"mdi-waves",class:"contact-icon"})):d("",!0),o.dataInfo.data.lctCl.length>2?(e(),r(c,{key:8,center:"",icon:"mdi-leaf",class:"contact-icon"})):d("",!0),i("span",_a,m(o.dataInfo.data.lctCl),1)])):d("",!0)]),_:1})]),_:1}),s(l,{class:"facility-wrap mb-7"},{default:f(()=>[(e(!0),h(Y,null,G(o.makeFacilityKey(o.dataInfo.data),u=>(e(),r(p,{cols:"6",sm:"4",md:"3",lg:"2",xl:"1",class:"facility-item-box"},{default:f(()=>[s(c,{center:"",icon:o.mdiName(u),class:"facility-item-icon"},null,8,["icon"]),i("span",ua,m(u),1)]),_:2},1024))),256))]),_:1}),s(l,{class:"link-btn-wrap"},{default:f(()=>[o.dataInfo.data.resveUrl?(e(),h("a",{key:0,class:"link-btn",href:o.dataInfo.data.resveUrl},"온라인 예약",8,ga)):d("",!0),o.dataInfo.data.homepage?(e(),h("a",{key:1,class:"link-btn",href:o.dataInfo.data.homepage},"홈페이지",8,Ia)):d("",!0)]),_:1})]),i("div",va,[i("div",wa,[s(c,{icon:"mdi-arrow-left-circle",onClick:o.goToPrev},null,8,["onClick"]),s(c,{icon:"mdi-arrow-right-circle",onClick:o.goToNext},null,8,["onClick"])]),i("div",ba,m(o.resultIndex.index)+" /"+m(o.dataArr.length)+"건의 검색결과입니다 ",1)]),s(y,{class:"close-btn pt-1",onClick:o.closeModal,icon:"mdi-close-thick",size:"large"},null,8,["onClick"])])])}const Ta=O(W,[["render",ka],["__scopeId","data-v-8e6c28b1"]]);export{Ta as default};
