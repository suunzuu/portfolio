import{_ as R,r as F,s as V,m as D,c as h,a as s,t as f,b as l,w as p,u as q,f as w,o as t,q as U,j as d,g as c,e as X,F as Y,d as G,x as H,p as J,k as Q}from"./index-1JoO1DOR.js";const W={name:"SearchDetail",setup(){const n=history.state.arr;console.log("라우트 컴포넌트",n);const b=q(),g=H(),a=b.params.id;let u,I,e,x,y,_,r;u=F({data:n.find(i=>i.contentId===a)}),r=F({index:1});const C=i=>{u.data=n.find(m=>m.contentId===i.params.id),I=n.findIndex(m=>m.contentId===u.data.contentId),y=n[I-1]?n[I-1]:null,_=n[I+1]?n[I+1]:null,e=y?y.contentId:null,x=_?_.contentId:null};C(b);const o=()=>{g.push({name:"search"})},B=()=>{x?(g.push({name:"search/id",params:{id:x},state:{arr:n}}),v(_),r.index==n.length?r.index=1:r.index++):(g.push({name:"search/id",params:{id:n[0].contentId},state:{arr:n}}),v(n[0]),r.index=1)},z=()=>{e?(g.push({name:"search/id",params:{id:e},state:{arr:n}}),v(y),r.index==1?r.index=n.length:r.index--):(g.push({name:"search/id",params:{id:n[n.length-1].contentId},state:{arr:n}}),v(n[n.length-1]),r.index=n.length)};V(i=>{C(i)});const K=()=>{const i=document.createElement("script");i.src="//dapi.kakao.com/v2/maps/sdk.js?appkey=68a864de58e6edc8060b1ea8bf5fcdf1&autoload=false",i.onload=()=>window.kakao.maps.load(v),document.head.appendChild(i)},v=i=>{if(i){const m=new window.kakao.maps.LatLng(i.mapY,i.mapX),N=document.getElementById("detail-map"),E={center:m,level:5};let S=new window.kakao.maps.Map(N,E);const T="/src/assets/marker.svg",k=new window.kakao.maps.Size(35,50),P={offset:new window.kakao.maps.Point(18,53)},A=new window.kakao.maps.MarkerImage(T,k,P),L=m;new window.kakao.maps.Marker({position:L,image:A}).setMap(S);const O=`<div id="customoverlay">
            <a href=${i.homepage==""?i.resveUrl:i.homepage} target="_blank">
              <h5 class="title">${i.facltNm}</h5>
            </a>
          </div>`;new window.kakao.maps.CustomOverlay({map:S,position:m,content:O,yAnchor:1})}};return D(()=>{K(),setTimeout(()=>{v(u.data)},700)}),{dataInfo:u,dataArr:n,resultIndex:r,closeModal:o,goToPrev:z,goToNext:B,copyText:()=>{const i=document.querySelectorAll(".copy");for(let m of i)m.addEventListener("click",function(){window.navigator.clipboard.writeText(m.textContent)})},makeFacilityKey:i=>{let m=["animalCmgCl","brazierCl","sbrsCl","sbrsEtc","posblFcltyCl"],N=[];return m.forEach((S,T)=>{let k=i[S].split(",");T==0?k[0]="반려동물동반 "+k:T==1&&(k[0]=k+"화로대"),N.push(...k)}),N.filter(Boolean)}}}},M=n=>(J("data-v-03cb610b"),n=n(),Q(),n),Z={class:"modal"},j={class:"box"},$={class:"page-header mb-6"},tt={class:"title-wrap mb-3"},at={class:"title mt-2"},et={class:"category"},ct={class:"contact-wrap"},nt={class:"contact-addr copy"},ot={class:"contact-tel copy"},it=M(()=>s("span",{class:"copy-msg"},"캠핑장 정보 복사 완료",-1)),st={class:"page-content"},lt=M(()=>s("div",{id:"detail-map","max-height":"400",class:"camping-img"},null,-1)),dt={key:0,class:"subtitle mb-6"},rt={key:1,class:"subtitle mb-6"},mt={key:2,class:"desc mb-6"},ft=M(()=>s("span",{class:"mb-1"},"캠핑장 소개",-1)),pt=M(()=>s("br",null,null,-1)),_t={key:0,class:"desc-nature-icon mt-md-5 mt-n8"},ht={class:"mt-n1"},yt={class:"facility-item"},kt=["href"],gt=["href"],ut={class:"page-footer"},It={class:"page-icon"},vt={class:"result-count-info"};function wt(n,b,g,a,u,I){const e=w("v-icon"),x=w("v-snackbar"),y=w("v-img"),_=w("v-col"),r=w("v-row"),C=w("v-btn");return t(),h("div",Z,[s("div",j,[s("div",$,[s("div",tt,[s("h3",at,f(a.dataInfo.data.facltNm),1),s("span",et,f(a.dataInfo.data.induty),1)]),s("div",ct,[l(x,{timeout:1500,rounded:"pill"},{activator:p(({props:o})=>[a.dataInfo.data.addr1!=""?(t(),h("span",U({key:0,class:"contact",onClick:b[0]||(b[0]=(...B)=>a.copyText&&a.copyText(...B))},o),[l(e,{icon:"mdi-map-marker",class:"contact-icon"}),s("span",nt,f(a.dataInfo.data.addr1),1),l(e,{icon:"mdi-content-copy",class:"copy-icon"})],16)):d("",!0),a.dataInfo.data.tel!=""?(t(),h("span",U({key:1,class:"contact"},o),[l(e,{icon:"mdi-phone",class:"contact-icon"}),s("span",ot,f(a.dataInfo.data.tel),1),l(e,{icon:"mdi-content-copy",class:"copy-icon"})],16)):d("",!0)]),default:p(()=>[it]),_:1})])]),s("div",st,[l(r,{class:"img-wrap"},{default:p(()=>[l(_,{cols:"12",md:"7"},{default:p(()=>[a.dataInfo.data.firstImageUrl==""?(t(),c(y,{key:0,class:"camping-img","max-height":"400",src:"https://github.com/suunzuu/portfolio/blob/main/img/no-img.jpg?raw=true",alt:"캠핑장 이미지 준비중",cover:""})):(t(),c(y,{key:1,class:"camping-img","max-height":"400",src:a.dataInfo.data.firstImageUrl,alt:"캠핑장 이미지",cover:""},null,8,["src"]))]),_:1}),l(_,{cols:"12",md:"5"},{default:p(()=>[lt]),_:1})]),_:1}),l(r,{class:"desc-wrap pt-1 mb-6"},{default:p(()=>[l(_,{cols:"12",md:"11"},{default:p(()=>[a.dataInfo.data.lineIntro!=""?(t(),h("p",dt,f(a.dataInfo.data.lineIntro),1)):a.dataInfo.data.intro!=""?(t(),h("p",rt,f(a.dataInfo.data.intro),1)):d("",!0),a.dataInfo.data.featureNm!=""?(t(),h("p",mt,[ft,pt,X(" "+f(a.dataInfo.data.featureNm),1)])):d("",!0)]),_:1}),l(_,{cols:"0",md:"1"},{default:p(()=>[a.dataInfo.data.lctCl?(t(),h("div",_t,[a.dataInfo.data.lctCl=="도심"?(t(),c(e,{key:0,center:"",icon:"mdi-city",class:"contact-icon"})):d("",!0),a.dataInfo.data.lctCl=="섬"?(t(),c(e,{key:1,center:"",icon:"mdi-island",class:"contact-icon"})):d("",!0),a.dataInfo.data.lctCl=="산"?(t(),c(e,{key:2,center:"",icon:"mdi-image-filter-hdr",class:"contact-icon"})):d("",!0),a.dataInfo.data.lctCl=="숲"?(t(),c(e,{key:3,center:"",icon:"mdi-forest-outline",class:"contact-icon"})):d("",!0),a.dataInfo.data.lctCl=="계곡"?(t(),c(e,{key:4,center:"",icon:"mdi-fruit-watermelon",class:"contact-icon"})):d("",!0),a.dataInfo.data.lctCl=="강"?(t(),c(e,{key:5,center:"",icon:"mdi-fish",class:"contact-icon"})):d("",!0),a.dataInfo.data.lctCl=="해변"?(t(),c(e,{key:6,center:"",icon:"mdi-umbrella-beach",class:"contact-icon"})):d("",!0),a.dataInfo.data.lctCl=="호수"?(t(),c(e,{key:7,center:"",icon:"mdi-waves",class:"contact-icon"})):d("",!0),a.dataInfo.data.lctCl.length>2?(t(),c(e,{key:8,center:"",icon:"mdi-leaf",class:"contact-icon"})):d("",!0),s("span",ht,f(a.dataInfo.data.lctCl),1)])):d("",!0)]),_:1})]),_:1}),l(r,{class:"facility-wrap mb-7"},{default:p(()=>[(t(!0),h(Y,null,G(a.makeFacilityKey(a.dataInfo.data),o=>(t(),c(_,{cols:"6",sm:"4",md:"3",lg:"2",xl:"1",class:"facility-item-box"},{default:p(()=>[o=="전기"?(t(),c(e,{key:0,center:"",icon:"mdi-lightning-bolt",class:"facility-item-icon"})):o=="마트.편의점"?(t(),c(e,{key:1,center:"",icon:"mdi-storefront",class:"facility-item-icon"})):o=="장작판매"?(t(),c(e,{key:2,center:"",icon:"mdi-pine-tree-fire",class:"facility-item-icon"})):o=="온수"?(t(),c(e,{key:3,center:"",icon:"mdi-shower-head",class:"facility-item-icon"})):o=="무선인터넷"?(t(),c(e,{key:4,center:"",icon:"mdi-wifi",class:"facility-item-icon"})):o=="낚시"?(t(),c(e,{key:5,center:"",icon:"mdi-fish",class:"facility-item-icon"})):o=="산책로"?(t(),c(e,{key:6,center:"",icon:"mdi-walk",class:"facility-item-icon"})):o=="해수욕"?(t(),c(e,{key:7,center:"",icon:"mdi-beach",class:"facility-item-icon"})):o=="수상레저"?(t(),c(e,{key:8,center:"",icon:"mdi-kayaking",class:"facility-item-icon"})):o=="음식점"?(t(),c(e,{key:9,center:"",icon:"mdi-food-fork-drink",class:"facility-item-icon"})):o=="운동시설"?(t(),c(e,{key:10,center:"",icon:"mdi-dumbbell",class:"facility-item-icon"})):o=="개별화로대"?(t(),c(e,{key:11,center:"",icon:"mdi-campfire",class:"facility-item-icon"})):o=="카페"?(t(),c(e,{key:12,center:"",icon:"mdi-coffee",class:"facility-item-icon"})):o=="반려동물동반 가능"||o=="반려동물동반 가능(소형견)"?(t(),c(e,{key:13,center:"",icon:"mdi-paw",class:"facility-item-icon"})):o=="반려동물동반 불가능"?(t(),c(e,{key:14,center:"",icon:"mdi-dog-side-off",class:"facility-item-icon"})):o=="계곡 물놀이"?(t(),c(e,{key:15,center:"",icon:"mdi-fruit-watermelon",class:"facility-item-icon"})):o=="물놀이장"?(t(),c(e,{key:16,center:"",icon:"mdi-pool",class:"facility-item-icon"})):o=="놀이터"?(t(),c(e,{key:17,center:"",icon:"mdi-balloon",class:"facility-item-icon"})):o=="운동장"?(t(),c(e,{key:18,center:"",icon:"mdi-soccer-field",class:"facility-item-icon"})):(t(),c(e,{key:19,center:"",icon:"mdi-tent",class:"facility-item-icon"})),s("span",yt,f(o),1)]),_:2},1024))),256))]),_:1}),l(r,{class:"link-btn-wrap"},{default:p(()=>[a.dataInfo.data.resveUrl?(t(),h("a",{key:0,class:"link-btn",href:a.dataInfo.data.resveUrl},"온라인 예약",8,kt)):d("",!0),a.dataInfo.data.homepage?(t(),h("a",{key:1,class:"link-btn",href:a.dataInfo.data.homepage},"홈페이지",8,gt)):d("",!0)]),_:1})]),s("div",ut,[s("div",It,[l(e,{icon:"mdi-arrow-left-circle",onClick:a.goToPrev},null,8,["onClick"]),l(e,{icon:"mdi-arrow-right-circle",onClick:a.goToNext},null,8,["onClick"])]),s("div",vt,f(a.resultIndex.index)+" /"+f(a.dataArr.length)+"건의 검색결과입니다 ",1)]),l(C,{class:"close-btn pt-1",onClick:a.closeModal,icon:"mdi-close-thick",size:"large"},null,8,["onClick"])])])}const St=R(W,[["render",wt],["__scopeId","data-v-03cb610b"]]);export{St as default};
